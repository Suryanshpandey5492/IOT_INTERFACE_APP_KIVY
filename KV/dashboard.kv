#:import MDCard kivymd.uix.card.MDCard
#:import dp kivy.metrics.dp

<Dashboard>:
    error_message: error_message_label
    BoxLayout:
        orientation: 'horizontal'

        Sidebar:  # Add the Sidebar on the left
            size_hint_x: None
            width: dp(200)

        BoxLayout:
            orientation: 'vertical'
            padding: '20dp'
            spacing: '20dp'

            MDLabel:
                text: 'Dashboard'
                font_style: 'H4'
                size_hint_y: None
                height: self.texture_size[1] + dp(20)
                halign: 'center'
                valign: 'middle'

            GridLayout:
                cols: 2
                spacing: '20dp'
                padding: '20dp'
                size_hint: 1, 1

                MDCard:
                    size_hint: None, None
                    size: dp(200), dp(150)
                    md_bg_color: 1, 1, 1, 1  # Explicitly set card background color to white
                    shadow_color: 0, 0, 0, 0.1
                    BoxLayout:
                        orientation: 'vertical'
                        padding: '10dp'
                        spacing: '10dp'
                        MDLabel:
                            text: 'Voltage:'
                            theme_text_color: 'Primary'
                        MDLabel:
                            text: root.voltage
                            theme_text_color: 'Secondary'

                MDCard:
                    size_hint: None, None
                    size: dp(200), dp(150)
                    md_bg_color: 1, 1, 1, 1  # Explicitly set card background color to white
                    shadow_color: 0, 0, 0, 0.1
                    BoxLayout:
                        orientation: 'vertical'
                        padding: '10dp'
                        spacing: '10dp'
                        MDLabel:
                            text: 'Current:'
                            theme_text_color: 'Primary'
                        MDLabel:
                            text: root.current
                            theme_text_color: 'Secondary'

                MDCard:
                    size_hint: None, None
                    size: dp(200), dp(150)
                    md_bg_color: 1, 1, 1, 1  # Explicitly set card background color to white
                    shadow_color: 0, 0, 0, 0.1
                    BoxLayout:
                        orientation: 'vertical'
                        padding: '10dp'
                        spacing: '10dp'
                        MDLabel:
                            text: 'Power:'
                            theme_text_color: 'Primary'
                        MDLabel:
                            text: root.power
                            theme_text_color: 'Secondary'

                MDCard:
                    size_hint: None, None
                    size: dp(200), dp(150)
                    md_bg_color: 1, 1, 1, 1  # Explicitly set card background color to white
                    shadow_color: 0, 0, 0, 0.1
                    BoxLayout:
                        orientation: 'vertical'
                        padding: '10dp'
                        spacing: '10dp'
                        MDLabel:
                            text: 'Energy:'
                            theme_text_color: 'Primary'
                        MDLabel:
                            text: root.energy
                            theme_text_color: 'Secondary'

            MDLabel:
                id: error_message_label
                text: ""
                theme_text_color: "Error"
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
